{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\washing-machine-booking\\\\client\\\\src\\\\components\\\\Register.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { userAPI } from '../services/api';\nimport Alert from './Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = ({\n  onRegister\n}) => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const [user, setUser] = useState({\n    full_name: '',\n    room_number: ''\n  });\n  const [alert, setAlert] = useState({\n    type: '',\n    message: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const showAlert = (type, message) => {\n    setAlert({\n      type,\n      message\n    });\n    setTimeout(() => setAlert({\n      type: '',\n      message: ''\n    }), 5000);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!user.full_name.trim()) {\n      showAlert('error', t('register.nameRequired'));\n      return;\n    }\n    const nameParts = user.full_name.trim().split(/\\s+/);\n    if (nameParts.length < 2) {\n      showAlert('error', t('register.nameRequired'));\n      return;\n    }\n    if (user.full_name.trim().length < 5) {\n      showAlert('error', t('register.nameLength'));\n      return;\n    }\n    if (!user.room_number.trim()) {\n      showAlert('error', t('register.roomRequired'));\n      return;\n    }\n    if (!/^[0-9]{3}$/.test(user.room_number.trim())) {\n      showAlert('error', t('register.roomFormat'));\n      return;\n    }\n    setLoading(true);\n    try {\n      await userAPI.register(user);\n      showAlert('success', t('register.success'));\n      onRegister(user.room_number);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      showAlert('error', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || t('error.booking'));\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: t('register.title')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      type: alert.type,\n      message: alert.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: t('register.fullName')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: user.full_name,\n          onChange: e => setUser({\n            ...user,\n            full_name: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [t('register.roomNumber'), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: user.room_number,\n          onChange: e => setUser({\n            ...user,\n            room_number: e.target.value\n          }),\n          required: true,\n          maxLength: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn\",\n        disabled: loading,\n        children: loading ? t('register.loading') : t('register.submit')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 3\n  }, this);\n};\n_s(Register, \"tiEVN9PGKOZs5Vlx+GZ5z5uKnMc=\", false, function () {\n  return [useTranslation];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","useTranslation","userAPI","Alert","jsxDEV","_jsxDEV","Register","onRegister","_s","t","user","setUser","full_name","room_number","alert","setAlert","type","message","loading","setLoading","showAlert","setTimeout","handleSubmit","e","preventDefault","trim","nameParts","split","length","test","register","error","_error$response","_error$response$data","response","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","maxLength","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/washing-machine-booking/client/src/components/Register.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { userAPI } from '../services/api'\r\nimport Alert from './Alert'\r\n\r\nconst Register = ({ onRegister }) => {\r\n\tconst { t } = useTranslation()\r\n\tconst [user, setUser] = useState({ full_name: '', room_number: '' })\r\n\tconst [alert, setAlert] = useState({ type: '', message: '' })\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tconst showAlert = (type, message) => {\r\n\t\tsetAlert({ type, message })\r\n\t\tsetTimeout(() => setAlert({ type: '', message: '' }), 5000)\r\n\t}\r\n\r\n\tconst handleSubmit = async e => {\r\n\t\te.preventDefault()\r\n\r\n\t\tif (!user.full_name.trim()) {\r\n\t\t\tshowAlert('error', t('register.nameRequired'))\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst nameParts = user.full_name.trim().split(/\\s+/)\r\n\t\tif (nameParts.length < 2) {\r\n\t\t\tshowAlert('error', t('register.nameRequired'))\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (user.full_name.trim().length < 5) {\r\n\t\t\tshowAlert('error', t('register.nameLength'))\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (!user.room_number.trim()) {\r\n\t\t\tshowAlert('error', t('register.roomRequired'))\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (!/^[0-9]{3}$/.test(user.room_number.trim())) {\r\n\t\t\tshowAlert('error', t('register.roomFormat'))\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tsetLoading(true)\r\n\r\n\t\ttry {\r\n\t\t\tawait userAPI.register(user)\r\n\t\t\tshowAlert('success', t('register.success'))\r\n\t\t\tonRegister(user.room_number)\r\n\t\t} catch (error) {\r\n\t\t\tshowAlert('error', error.response?.data?.message || t('error.booking'))\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='form-container'>\r\n\t\t\t<h2>{t('register.title')}</h2>\r\n\t\t\t<Alert type={alert.type} message={alert.message} />\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>{t('register.fullName')}</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvalue={user.full_name}\r\n\t\t\t\t\t\tonChange={e => setUser({ ...user, full_name: e.target.value })}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>{t('register.roomNumber')} </label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvalue={user.room_number}\r\n\t\t\t\t\t\tonChange={e => setUser({ ...user, room_number: e.target.value })}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tmaxLength='3'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button type='submit' className='btn' disabled={loading}>\r\n\t\t\t\t\t{loading ? t('register.loading') : t('register.submit')}\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Register\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,OAAO,QAAQ,iBAAiB;AACzC,OAAOC,KAAK,MAAM,SAAS;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,QAAQ,GAAGA,CAAC;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EACpC,MAAM;IAAEC;EAAE,CAAC,GAAGR,cAAc,CAAC,CAAC;EAC9B,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC;IAAEY,SAAS,EAAE,EAAE;IAAEC,WAAW,EAAE;EAAG,CAAC,CAAC;EACpE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC;IAAEgB,IAAI,EAAE,EAAE;IAAEC,OAAO,EAAE;EAAG,CAAC,CAAC;EAC7D,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMoB,SAAS,GAAGA,CAACJ,IAAI,EAAEC,OAAO,KAAK;IACpCF,QAAQ,CAAC;MAAEC,IAAI;MAAEC;IAAQ,CAAC,CAAC;IAC3BI,UAAU,CAAC,MAAMN,QAAQ,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAC,CAAC,EAAE,IAAI,CAAC;EAC5D,CAAC;EAED,MAAMK,YAAY,GAAG,MAAMC,CAAC,IAAI;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAI,CAACd,IAAI,CAACE,SAAS,CAACa,IAAI,CAAC,CAAC,EAAE;MAC3BL,SAAS,CAAC,OAAO,EAAEX,CAAC,CAAC,uBAAuB,CAAC,CAAC;MAC9C;IACD;IAEA,MAAMiB,SAAS,GAAGhB,IAAI,CAACE,SAAS,CAACa,IAAI,CAAC,CAAC,CAACE,KAAK,CAAC,KAAK,CAAC;IACpD,IAAID,SAAS,CAACE,MAAM,GAAG,CAAC,EAAE;MACzBR,SAAS,CAAC,OAAO,EAAEX,CAAC,CAAC,uBAAuB,CAAC,CAAC;MAC9C;IACD;IAEA,IAAIC,IAAI,CAACE,SAAS,CAACa,IAAI,CAAC,CAAC,CAACG,MAAM,GAAG,CAAC,EAAE;MACrCR,SAAS,CAAC,OAAO,EAAEX,CAAC,CAAC,qBAAqB,CAAC,CAAC;MAC5C;IACD;IAEA,IAAI,CAACC,IAAI,CAACG,WAAW,CAACY,IAAI,CAAC,CAAC,EAAE;MAC7BL,SAAS,CAAC,OAAO,EAAEX,CAAC,CAAC,uBAAuB,CAAC,CAAC;MAC9C;IACD;IAEA,IAAI,CAAC,YAAY,CAACoB,IAAI,CAACnB,IAAI,CAACG,WAAW,CAACY,IAAI,CAAC,CAAC,CAAC,EAAE;MAChDL,SAAS,CAAC,OAAO,EAAEX,CAAC,CAAC,qBAAqB,CAAC,CAAC;MAC5C;IACD;IAEAU,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACH,MAAMjB,OAAO,CAAC4B,QAAQ,CAACpB,IAAI,CAAC;MAC5BU,SAAS,CAAC,SAAS,EAAEX,CAAC,CAAC,kBAAkB,CAAC,CAAC;MAC3CF,UAAU,CAACG,IAAI,CAACG,WAAW,CAAC;IAC7B,CAAC,CAAC,OAAOkB,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACfb,SAAS,CAAC,OAAO,EAAE,EAAAY,eAAA,GAAAD,KAAK,CAACG,QAAQ,cAAAF,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBG,IAAI,cAAAF,oBAAA,uBAApBA,oBAAA,CAAsBhB,OAAO,KAAIR,CAAC,CAAC,eAAe,CAAC,CAAC;IACxE,CAAC,SAAS;MACTU,UAAU,CAAC,KAAK,CAAC;IAClB;EACD,CAAC;EAED,oBACCd,OAAA;IAAK+B,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC9BhC,OAAA;MAAAgC,QAAA,EAAK5B,CAAC,CAAC,gBAAgB;IAAC;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAC9BpC,OAAA,CAACF,KAAK;MAACa,IAAI,EAAEF,KAAK,CAACE,IAAK;MAACC,OAAO,EAAEH,KAAK,CAACG;IAAQ;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACnDpC,OAAA;MAAMqC,QAAQ,EAAEpB,YAAa;MAAAe,QAAA,gBAC5BhC,OAAA;QAAK+B,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC1BhC,OAAA;UAAAgC,QAAA,EAAQ5B,CAAC,CAAC,mBAAmB;QAAC;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACvCpC,OAAA;UACCW,IAAI,EAAC,MAAM;UACX2B,KAAK,EAAEjC,IAAI,CAACE,SAAU;UACtBgC,QAAQ,EAAErB,CAAC,IAAIZ,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEE,SAAS,EAAEW,CAAC,CAACsB,MAAM,CAACF;UAAM,CAAC,CAAE;UAC/DG,QAAQ;QAAA;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENpC,OAAA;QAAK+B,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC1BhC,OAAA;UAAAgC,QAAA,GAAQ5B,CAAC,CAAC,qBAAqB,CAAC,EAAC,GAAC;QAAA;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC1CpC,OAAA;UACCW,IAAI,EAAC,MAAM;UACX2B,KAAK,EAAEjC,IAAI,CAACG,WAAY;UACxB+B,QAAQ,EAAErB,CAAC,IAAIZ,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEG,WAAW,EAAEU,CAAC,CAACsB,MAAM,CAACF;UAAM,CAAC,CAAE;UACjEG,QAAQ;UACRC,SAAS,EAAC;QAAG;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAENpC,OAAA;QAAQW,IAAI,EAAC,QAAQ;QAACoB,SAAS,EAAC,KAAK;QAACY,QAAQ,EAAE9B,OAAQ;QAAAmB,QAAA,EACtDnB,OAAO,GAAGT,CAAC,CAAC,kBAAkB,CAAC,GAAGA,CAAC,CAAC,iBAAiB;MAAC;QAAA6B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAER,CAAC;AAAAjC,EAAA,CArFKF,QAAQ;EAAA,QACCL,cAAc;AAAA;AAAAgD,EAAA,GADvB3C,QAAQ;AAuFd,eAAeA,QAAQ;AAAA,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}