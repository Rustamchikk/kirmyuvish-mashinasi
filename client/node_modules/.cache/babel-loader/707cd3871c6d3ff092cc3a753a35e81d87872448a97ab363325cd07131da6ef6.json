{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\washing-machine-booking\\\\client\\\\src\\\\components\\\\Register.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { userAPI } from '../services/api';\nimport Alert from './Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = ({\n  onRegister\n}) => {\n  _s();\n  const [user, setUser] = useState({\n    full_name: '',\n    room_number: ''\n  });\n  const [alert, setAlert] = useState({\n    type: '',\n    message: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const showAlert = (type, message) => {\n    setAlert({\n      type,\n      message\n    });\n    setTimeout(() => setAlert({\n      type: '',\n      message: ''\n    }), 5000);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      await userAPI.register(user);\n      showAlert('success', \"Muvaffaqiyatli ro'yxatdan o'tdingiz!\");\n      onRegister(user.room_number); // Asosiy sahifaga o'tkazadi\n    } catch (error) {\n      var _error$response, _error$response$data;\n      showAlert('error', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Xatolik yuz berdi');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Ro'yxatdan O'tish\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      type: alert.type,\n      message: alert.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Ism Familiya\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: user.full_name,\n          onChange: e => setUser({\n            ...user,\n            full_name: e.target.value\n          }),\n          required: true,\n          placeholder: \"Ism va familiyangiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Xona Raqami\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: user.room_number,\n          onChange: e => setUser({\n            ...user,\n            room_number: e.target.value\n          }),\n          required: true,\n          placeholder: \"Masalan: 101\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn\",\n        disabled: loading,\n        children: loading ? 'Kutilmoqda...' : \"Ro'yxatdan O'tish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 3\n  }, this);\n};\n_s(Register, \"xFFzXpHC1HNGjCc8dYCi4+BmCzU=\");\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","userAPI","Alert","jsxDEV","_jsxDEV","Register","onRegister","_s","user","setUser","full_name","room_number","alert","setAlert","type","message","loading","setLoading","showAlert","setTimeout","handleSubmit","e","preventDefault","register","error","_error$response","_error$response$data","response","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","required","placeholder","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/washing-machine-booking/client/src/components/Register.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { userAPI } from '../services/api'\r\nimport Alert from './Alert'\r\n\r\nconst Register = ({ onRegister }) => {\r\n\tconst [user, setUser] = useState({ full_name: '', room_number: '' })\r\n\tconst [alert, setAlert] = useState({ type: '', message: '' })\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tconst showAlert = (type, message) => {\r\n\t\tsetAlert({ type, message })\r\n\t\tsetTimeout(() => setAlert({ type: '', message: '' }), 5000)\r\n\t}\r\n\r\n\tconst handleSubmit = async e => {\r\n\t\te.preventDefault()\r\n\t\tsetLoading(true)\r\n\r\n\t\ttry {\r\n\t\t\tawait userAPI.register(user)\r\n\t\t\tshowAlert('success', \"Muvaffaqiyatli ro'yxatdan o'tdingiz!\")\r\n\t\t\tonRegister(user.room_number) // Asosiy sahifaga o'tkazadi\r\n\t\t} catch (error) {\r\n\t\t\tshowAlert('error', error.response?.data?.message || 'Xatolik yuz berdi')\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='form-container'>\r\n\t\t\t<h2>Ro'yxatdan O'tish</h2>\r\n\t\t\t<Alert type={alert.type} message={alert.message} />\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>Ism Familiya</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvalue={user.full_name}\r\n\t\t\t\t\t\tonChange={e => setUser({ ...user, full_name: e.target.value })}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tplaceholder='Ism va familiyangiz'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>Xona Raqami</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvalue={user.room_number}\r\n\t\t\t\t\t\tonChange={e => setUser({ ...user, room_number: e.target.value })}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tplaceholder='Masalan: 101'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type='submit' className='btn' disabled={loading}>\r\n\t\t\t\t\t{loading ? 'Kutilmoqda...' : \"Ro'yxatdan O'tish\"}\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Register\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}