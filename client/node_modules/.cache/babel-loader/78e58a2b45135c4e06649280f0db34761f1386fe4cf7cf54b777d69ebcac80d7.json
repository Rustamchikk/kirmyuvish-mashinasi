{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\washing-machine-booking\\\\client\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport { addDays, format, isBefore, startOfWeek } from 'date-fns';\nimport { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport Alert from '../components/Alert';\nimport Register from '../components/Register';\nimport { bookingAPI, machineAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const {\n    t\n  } = useTranslation();\n  const [userRoom, setUserRoom] = useState(localStorage.getItem('userRoom') || '');\n  const [machines, setMachines] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [selectedTimeSlot, setSelectedTimeSlot] = useState('');\n  const [selectedMachines, setSelectedMachines] = useState([]);\n  const [alert, setAlert] = useState({\n    type: '',\n    message: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [bookings, setBookings] = useState([]);\n  const [currentView, setCurrentView] = useState(userRoom ? 'booking' : 'register');\n  const timeSlots = ['15:00-16:00', '16:00-17:00', '17:00-18:00'];\n  useEffect(() => {\n    if (userRoom) {\n      loadMachines();\n      loadBookings();\n    }\n  }, [selectedDate, userRoom]);\n  const loadMachines = async () => {\n    try {\n      const response = await machineAPI.getAll();\n      setMachines(response.data.data);\n    } catch (error) {\n      showAlert('error', 'Mashinalarni yuklashda xatolik');\n    }\n  };\n  const loadBookings = async () => {\n    try {\n      const dateStr = format(selectedDate, 'yyyy-MM-dd');\n      const response = await bookingAPI.getAll(dateStr);\n      setBookings(response.data.data);\n    } catch (error) {\n      console.error('Bookings load error:', error);\n    }\n  };\n  const showAlert = (type, message) => {\n    setAlert({\n      type,\n      message\n    });\n    setTimeout(() => setAlert({\n      type: '',\n      message: ''\n    }), 5000);\n  };\n  const handleRegister = roomNumber => {\n    setUserRoom(roomNumber);\n    localStorage.setItem('userRoom', roomNumber);\n    setCurrentView('booking');\n    showAlert('success', t('register.success'));\n  };\n  const handleLogout = () => {\n    setUserRoom('');\n    localStorage.removeItem('userRoom');\n    setCurrentView('register');\n    setSelectedMachines([]);\n    setSelectedTimeSlot('');\n  };\n  const handleMachineSelect = machineId => {\n    setSelectedMachines(prev => {\n      if (prev.includes(machineId)) {\n        return prev.filter(id => id !== machineId);\n      } else if (prev.length < 2) {\n        return [...prev, machineId];\n      }\n      return prev;\n    });\n  };\n  const handleBooking = async e => {\n    e.preventDefault();\n    if (!selectedTimeSlot) {\n      showAlert('error', t('booking.chooseTime'));\n      return;\n    }\n    if (selectedMachines.length === 0) {\n      showAlert('error', 'Kamida bitta mashina tanlang');\n      return;\n    }\n    setLoading(true);\n    try {\n      const bookingData = {\n        room_number: userRoom,\n        machine_ids: selectedMachines,\n        booking_date: format(selectedDate, 'yyyy-MM-dd'),\n        time_slot: selectedTimeSlot\n      };\n      await bookingAPI.create(bookingData);\n      showAlert('success', `Muvaffaqiyatli bron qilindi! ${selectedMachines.length} ta mashina`);\n      setSelectedMachines([]);\n      setSelectedTimeSlot('');\n      loadBookings();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      showAlert('error', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Bron qilishda xatolik');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const isMachineBooked = (machineId, timeSlot) => {\n    return bookings.some(booking => booking.machine_id === machineId && booking.time_slot === timeSlot);\n  };\n  const isPastDate = date => {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    return isBefore(date, today);\n  };\n  const getWeekDates = () => {\n    const start = startOfWeek(selectedDate, {\n      weekStartsOn: 1\n    });\n    const dates = [];\n    for (let i = 0; i < 5; i++) {\n      dates.push(addDays(start, i));\n    }\n    return dates;\n  };\n\n  // RO'YXATDAN O'TISH OYNASI\n  if (currentView === 'register') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hero\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: t('home.title')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: t('home.subtitle')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Register, {\n        onRegister: handleRegister\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 4\n    }, this);\n  }\n\n  // BRON QILISH OYNASI\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"hero\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: t('home.booking')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [t('booking.selectedDate'), \": \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: userRoom\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"btn btn-danger\",\n        style: {\n          marginTop: '0.5rem'\n        },\n        children: t('admin.logout')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      type: alert.type,\n      message: alert.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: t('booking.selectDate')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-grid\",\n        children: getWeekDates().map((date, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `calendar-day ${format(date, 'yyyy-MM-dd') === format(selectedDate, 'yyyy-MM-dd') ? 'selected' : ''} ${isPastDate(date) ? 'disabled' : ''}`,\n          onClick: () => {\n            if (!isPastDate(date)) {\n              setSelectedDate(date);\n              setSelectedTimeSlot('');\n              setSelectedMachines([]);\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: format(date, 'EEE')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: format(date, 'dd')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: format(date, 'MMM')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 8\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 4\n    }, this), !isPastDate(selectedDate) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: t('home.booking')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [t('booking.selectedDate'), \":\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: format(selectedDate, 'dd.MM.yyyy')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleBooking,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: t('booking.selectTime')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedTimeSlot,\n            onChange: e => {\n              setSelectedTimeSlot(e.target.value);\n              setSelectedMachines([]);\n            },\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: t('booking.chooseTime')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 9\n            }, this), timeSlots.map(slot => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: slot,\n              children: slot\n            }, slot, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 10\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 7\n        }, this), selectedTimeSlot ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"time-slot\",\n          style: {\n            marginTop: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: '#333',\n              borderBottom: '2px solid #667eea',\n              paddingBottom: '0.5rem',\n              marginBottom: '1rem'\n            },\n            children: [t('booking.selectedDate'), \": \", selectedTimeSlot]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"machine-list\",\n            children: machines.map(machine => {\n              const isBooked = isMachineBooked(machine.id, selectedTimeSlot);\n              const isSelected = selectedMachines.includes(machine.id);\n              const isActive = machine.is_active;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"machine-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"machine-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    className: \"machine-checkbox\",\n                    checked: isSelected,\n                    onChange: () => {\n                      if (!isBooked && isActive) {\n                        handleMachineSelect(machine.id);\n                      }\n                    },\n                    disabled: isBooked || !isActive\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 14\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontWeight: '500'\n                    },\n                    children: machine.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 14\n                  }, this), !isActive && /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#dc3545',\n                      fontSize: '0.8rem',\n                      marginLeft: '0.5rem',\n                      fontStyle: 'italic'\n                    },\n                    children: [\"(\", t('booking.underMaintenance'), \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 15\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `machine-status ${!isActive ? 'status-booked' : isBooked ? 'status-booked' : 'status-available'}`,\n                  children: !isActive ? t('booking.inactive') : isBooked ? t('booking.busy') : t('booking.available')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 13\n                }, this)]\n              }, machine.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 12\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 8\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '2rem',\n            background: '#f8f9fa',\n            borderRadius: '5px',\n            border: '1px dashed #dee2e6',\n            marginTop: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#666',\n              margin: 0\n            },\n            children: t('booking.chooseTime')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '1.5rem',\n            padding: '1rem',\n            background: '#e9ecef',\n            borderRadius: '5px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              fontWeight: '500'\n            },\n            children: [t('booking.selectedMachines'), \":\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [selectedMachines.length, \"/2\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn\",\n          disabled: loading || selectedMachines.length === 0 || !selectedTimeSlot,\n          style: {\n            marginTop: '1.5rem',\n            width: '100%',\n            padding: '1rem'\n          },\n          children: loading ? t('booking.booking') : t('booking.book')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '1.5rem',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: `/my-bookings/${userRoom}`,\n          className: \"btn\",\n          style: {\n            background: '#28a745',\n            marginRight: '1rem',\n            textDecoration: 'none'\n          },\n          children: t('booking.myBookings')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"btn\",\n          style: {\n            background: '#6c757d',\n            textDecoration: 'none'\n          },\n          children: t('booking.newBooking')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 3\n  }, this);\n};\n_s(Home, \"cQmSHOYB0V4BCQbDuG9WQ/HVm2k=\", false, function () {\n  return [useTranslation];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["addDays","format","isBefore","startOfWeek","useEffect","useState","useTranslation","Alert","Register","bookingAPI","machineAPI","jsxDEV","_jsxDEV","Home","_s","t","userRoom","setUserRoom","localStorage","getItem","machines","setMachines","selectedDate","setSelectedDate","Date","selectedTimeSlot","setSelectedTimeSlot","selectedMachines","setSelectedMachines","alert","setAlert","type","message","loading","setLoading","bookings","setBookings","currentView","setCurrentView","timeSlots","loadMachines","loadBookings","response","getAll","data","error","showAlert","dateStr","console","setTimeout","handleRegister","roomNumber","setItem","handleLogout","removeItem","handleMachineSelect","machineId","prev","includes","filter","id","length","handleBooking","e","preventDefault","bookingData","room_number","machine_ids","booking_date","time_slot","create","_error$response","_error$response$data","isMachineBooked","timeSlot","some","booking","machine_id","isPastDate","date","today","setHours","getWeekDates","start","weekStartsOn","dates","i","push","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onRegister","onClick","style","marginTop","map","index","onSubmit","value","onChange","target","required","slot","color","borderBottom","paddingBottom","marginBottom","machine","isBooked","isSelected","isActive","is_active","checked","disabled","fontWeight","name","fontSize","marginLeft","fontStyle","textAlign","padding","background","borderRadius","border","margin","width","href","marginRight","textDecoration","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/washing-machine-booking/client/src/pages/Home.js"],"sourcesContent":["import { addDays, format, isBefore, startOfWeek } from 'date-fns'\r\nimport { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport Alert from '../components/Alert'\r\nimport Register from '../components/Register'\r\nimport { bookingAPI, machineAPI } from '../services/api'\r\n\r\nconst Home = () => {\r\n\tconst { t } = useTranslation()\r\n\tconst [userRoom, setUserRoom] = useState(\r\n\t\tlocalStorage.getItem('userRoom') || ''\r\n\t)\r\n\tconst [machines, setMachines] = useState([])\r\n\tconst [selectedDate, setSelectedDate] = useState(new Date())\r\n\tconst [selectedTimeSlot, setSelectedTimeSlot] = useState('')\r\n\tconst [selectedMachines, setSelectedMachines] = useState([])\r\n\tconst [alert, setAlert] = useState({ type: '', message: '' })\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [bookings, setBookings] = useState([])\r\n\tconst [currentView, setCurrentView] = useState(\r\n\t\tuserRoom ? 'booking' : 'register'\r\n\t)\r\n\r\n\tconst timeSlots = ['15:00-16:00', '16:00-17:00', '17:00-18:00']\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userRoom) {\r\n\t\t\tloadMachines()\r\n\t\t\tloadBookings()\r\n\t\t}\r\n\t}, [selectedDate, userRoom])\r\n\r\n\tconst loadMachines = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await machineAPI.getAll()\r\n\t\t\tsetMachines(response.data.data)\r\n\t\t} catch (error) {\r\n\t\t\tshowAlert('error', 'Mashinalarni yuklashda xatolik')\r\n\t\t}\r\n\t}\r\n\r\n\tconst loadBookings = async () => {\r\n\t\ttry {\r\n\t\t\tconst dateStr = format(selectedDate, 'yyyy-MM-dd')\r\n\t\t\tconst response = await bookingAPI.getAll(dateStr)\r\n\t\t\tsetBookings(response.data.data)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Bookings load error:', error)\r\n\t\t}\r\n\t}\r\n\r\n\tconst showAlert = (type, message) => {\r\n\t\tsetAlert({ type, message })\r\n\t\tsetTimeout(() => setAlert({ type: '', message: '' }), 5000)\r\n\t}\r\n\r\n\tconst handleRegister = roomNumber => {\r\n\t\tsetUserRoom(roomNumber)\r\n\t\tlocalStorage.setItem('userRoom', roomNumber)\r\n\t\tsetCurrentView('booking')\r\n\t\tshowAlert('success', t('register.success'))\r\n\t}\r\n\r\n\tconst handleLogout = () => {\r\n\t\tsetUserRoom('')\r\n\t\tlocalStorage.removeItem('userRoom')\r\n\t\tsetCurrentView('register')\r\n\t\tsetSelectedMachines([])\r\n\t\tsetSelectedTimeSlot('')\r\n\t}\r\n\r\n\tconst handleMachineSelect = machineId => {\r\n\t\tsetSelectedMachines(prev => {\r\n\t\t\tif (prev.includes(machineId)) {\r\n\t\t\t\treturn prev.filter(id => id !== machineId)\r\n\t\t\t} else if (prev.length < 2) {\r\n\t\t\t\treturn [...prev, machineId]\r\n\t\t\t}\r\n\t\t\treturn prev\r\n\t\t})\r\n\t}\r\n\r\n\tconst handleBooking = async e => {\r\n\t\te.preventDefault()\r\n\r\n\t\tif (!selectedTimeSlot) {\r\n\t\t\tshowAlert('error', t('booking.chooseTime'))\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (selectedMachines.length === 0) {\r\n\t\t\tshowAlert('error', 'Kamida bitta mashina tanlang')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tsetLoading(true)\r\n\r\n\t\ttry {\r\n\t\t\tconst bookingData = {\r\n\t\t\t\troom_number: userRoom,\r\n\t\t\t\tmachine_ids: selectedMachines,\r\n\t\t\t\tbooking_date: format(selectedDate, 'yyyy-MM-dd'),\r\n\t\t\t\ttime_slot: selectedTimeSlot,\r\n\t\t\t}\r\n\r\n\t\t\tawait bookingAPI.create(bookingData)\r\n\t\t\tshowAlert(\r\n\t\t\t\t'success',\r\n\t\t\t\t`Muvaffaqiyatli bron qilindi! ${selectedMachines.length} ta mashina`\r\n\t\t\t)\r\n\r\n\t\t\tsetSelectedMachines([])\r\n\t\t\tsetSelectedTimeSlot('')\r\n\t\t\tloadBookings()\r\n\t\t} catch (error) {\r\n\t\t\tshowAlert(\r\n\t\t\t\t'error',\r\n\t\t\t\terror.response?.data?.message || 'Bron qilishda xatolik'\r\n\t\t\t)\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\tconst isMachineBooked = (machineId, timeSlot) => {\r\n\t\treturn bookings.some(\r\n\t\t\tbooking =>\r\n\t\t\t\tbooking.machine_id === machineId && booking.time_slot === timeSlot\r\n\t\t)\r\n\t}\r\n\r\n\tconst isPastDate = date => {\r\n\t\tconst today = new Date()\r\n\t\ttoday.setHours(0, 0, 0, 0)\r\n\t\treturn isBefore(date, today)\r\n\t}\r\n\r\n\tconst getWeekDates = () => {\r\n\t\tconst start = startOfWeek(selectedDate, { weekStartsOn: 1 })\r\n\t\tconst dates = []\r\n\r\n\t\tfor (let i = 0; i < 5; i++) {\r\n\t\t\tdates.push(addDays(start, i))\r\n\t\t}\r\n\r\n\t\treturn dates\r\n\t}\r\n\r\n\t// RO'YXATDAN O'TISH OYNASI\r\n\tif (currentView === 'register') {\r\n\t\treturn (\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='hero'>\r\n\t\t\t\t\t<h1>{t('home.title')}</h1>\r\n\t\t\t\t\t<p>{t('home.subtitle')}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Register onRegister={handleRegister} />\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t// BRON QILISH OYNASI\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='hero'>\r\n\t\t\t\t<h1>{t('home.booking')}</h1>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{t('booking.selectedDate')}: <strong>{userRoom}</strong>\r\n\t\t\t\t</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={handleLogout}\r\n\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\tstyle={{ marginTop: '0.5rem' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t('admin.logout')}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Alert type={alert.type} message={alert.message} />\r\n\r\n\t\t\t{/* Kalendar */}\r\n\t\t\t<div className='form-container'>\r\n\t\t\t\t<h2>{t('booking.selectDate')}</h2>\r\n\t\t\t\t<div className='calendar-grid'>\r\n\t\t\t\t\t{getWeekDates().map((date, index) => (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tclassName={`calendar-day ${\r\n\t\t\t\t\t\t\t\tformat(date, 'yyyy-MM-dd') ===\r\n\t\t\t\t\t\t\t\tformat(selectedDate, 'yyyy-MM-dd')\r\n\t\t\t\t\t\t\t\t\t? 'selected'\r\n\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t} ${isPastDate(date) ? 'disabled' : ''}`}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tif (!isPastDate(date)) {\r\n\t\t\t\t\t\t\t\t\tsetSelectedDate(date)\r\n\t\t\t\t\t\t\t\t\tsetSelectedTimeSlot('')\r\n\t\t\t\t\t\t\t\t\tsetSelectedMachines([])\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div>{format(date, 'EEE')}</div>\r\n\t\t\t\t\t\t\t<div>{format(date, 'dd')}</div>\r\n\t\t\t\t\t\t\t<div>{format(date, 'MMM')}</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Bron qilish formasi */}\r\n\t\t\t{!isPastDate(selectedDate) && (\r\n\t\t\t\t<div className='form-container'>\r\n\t\t\t\t\t<h2>{t('home.booking')}</h2>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{t('booking.selectedDate')}:{' '}\r\n\t\t\t\t\t\t<strong>{format(selectedDate, 'dd.MM.yyyy')}</strong>\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<form onSubmit={handleBooking}>\r\n\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t<label>{t('booking.selectTime')}</label>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tvalue={selectedTimeSlot}\r\n\t\t\t\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\t\t\t\tsetSelectedTimeSlot(e.target.value)\r\n\t\t\t\t\t\t\t\t\tsetSelectedMachines([])\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value=''>{t('booking.chooseTime')}</option>\r\n\t\t\t\t\t\t\t\t{timeSlots.map(slot => (\r\n\t\t\t\t\t\t\t\t\t<option key={slot} value={slot}>\r\n\t\t\t\t\t\t\t\t\t\t{slot}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{/* FAQAT TANLANGAN VAQT UCHUN MASHINALAR */}\r\n\t\t\t\t\t\t{selectedTimeSlot ? (\r\n\t\t\t\t\t\t\t<div className='time-slot' style={{ marginTop: '1.5rem' }}>\r\n\t\t\t\t\t\t\t\t<h3\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#333',\r\n\t\t\t\t\t\t\t\t\t\tborderBottom: '2px solid #667eea',\r\n\t\t\t\t\t\t\t\t\t\tpaddingBottom: '0.5rem',\r\n\t\t\t\t\t\t\t\t\t\tmarginBottom: '1rem',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{t('booking.selectedDate')}: {selectedTimeSlot}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<div className='machine-list'>\r\n\t\t\t\t\t\t\t\t\t{machines.map(machine => {\r\n\t\t\t\t\t\t\t\t\t\tconst isBooked = isMachineBooked(\r\n\t\t\t\t\t\t\t\t\t\t\tmachine.id,\r\n\t\t\t\t\t\t\t\t\t\t\tselectedTimeSlot\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\tconst isSelected = selectedMachines.includes(machine.id)\r\n\t\t\t\t\t\t\t\t\t\tconst isActive = machine.is_active\r\n\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div key={machine.id} className='machine-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='machine-info'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='machine-checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={isSelected}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!isBooked && isActive) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleMachineSelect(machine.id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isBooked || !isActive}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontWeight: '500' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{machine.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!isActive && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#dc3545',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.8rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft: '0.5rem',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'italic',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t({t('booking.underMaintenance')})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`machine-status ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t!isActive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'status-booked'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isBooked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'status-booked'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'status-available'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!isActive\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? t('booking.inactive')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isBooked\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? t('booking.busy')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: t('booking.available')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\t\t\t\tpadding: '2rem',\r\n\t\t\t\t\t\t\t\t\tbackground: '#f8f9fa',\r\n\t\t\t\t\t\t\t\t\tborderRadius: '5px',\r\n\t\t\t\t\t\t\t\t\tborder: '1px dashed #dee2e6',\r\n\t\t\t\t\t\t\t\t\tmarginTop: '1rem',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<p style={{ color: '#666', margin: 0 }}>\r\n\t\t\t\t\t\t\t\t\t{t('booking.chooseTime')}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginTop: '1.5rem',\r\n\t\t\t\t\t\t\t\tpadding: '1rem',\r\n\t\t\t\t\t\t\t\tbackground: '#e9ecef',\r\n\t\t\t\t\t\t\t\tborderRadius: '5px',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<p style={{ margin: 0, fontWeight: '500' }}>\r\n\t\t\t\t\t\t\t\t{t('booking.selectedMachines')}:{' '}\r\n\t\t\t\t\t\t\t\t<strong>{selectedMachines.length}/2</strong>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\tloading || selectedMachines.length === 0 || !selectedTimeSlot\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tmarginTop: '1.5rem',\r\n\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\tpadding: '1rem',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{loading ? t('booking.booking') : t('booking.book')}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t<div style={{ marginTop: '1.5rem', textAlign: 'center' }}>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={`/my-bookings/${userRoom}`}\r\n\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground: '#28a745',\r\n\t\t\t\t\t\t\t\tmarginRight: '1rem',\r\n\t\t\t\t\t\t\t\ttextDecoration: 'none',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('booking.myBookings')}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackground: '#6c757d',\r\n\t\t\t\t\t\t\t\ttextDecoration: 'none',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{t('booking.newBooking')}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Home\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}