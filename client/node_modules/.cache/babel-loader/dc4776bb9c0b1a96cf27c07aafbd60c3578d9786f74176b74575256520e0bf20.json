{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\washing-machine-booking\\\\client\\\\src\\\\components\\\\Register.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { userAPI } from '../services/api';\nimport Alert from './Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Register = ({\n  onRegister\n}) => {\n  _s();\n  const [user, setUser] = useState({\n    full_name: '',\n    room_number: ''\n  });\n  const [alert, setAlert] = useState({\n    type: '',\n    message: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const showAlert = (type, message) => {\n    setAlert({\n      type,\n      message\n    });\n    setTimeout(() => setAlert({\n      type: '',\n      message: ''\n    }), 5000);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!user.full_name.trim()) {\n      showAlert('error', 'Ism va familiya kiritilishi shart');\n      return;\n    }\n    const nameParts = user.full_name.trim().split(/\\s+/);\n    if (nameParts.length < 2) {\n      showAlert('error', 'Iltimos, ism va familiyangizni kiriting');\n      return;\n    }\n    if (user.full_name.trim().length < 5) {\n      showAlert('error', \"Ism-familiya kamida 5 ta belgidan iborat bo'lishi kerak\");\n      return;\n    }\n    if (!user.room_number.trim()) {\n      showAlert('error', 'Xona raqami kiritilishi shart');\n      return;\n    }\n    if (!/^[0-9]{3}$/.test(user.room_number.trim())) {\n      showAlert('error', \"Xona raqami 3 ta raqamdan iborat bo'lishi kerak\");\n      return;\n    }\n    setLoading(true);\n    try {\n      await userAPI.register(user);\n      showAlert('success', \"Muvaffaqiyatli ro'yxatdan o'tdingiz!\");\n      onRegister(user.room_number);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      showAlert('error', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Xatolik yuz berdi');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Ro'yxatdan O'tish\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      type: alert.type,\n      message: alert.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Ism va Familiya *\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#dc3545',\n              marginLeft: '4px'\n            },\n            children: \"\\u25CF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: user.full_name,\n          onChange: e => setUser({\n            ...user,\n            full_name: e.target.value\n          }),\n          required: true,\n          placeholder: \"Masalan: Ali Valiyev\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            color: '#666',\n            fontSize: '0.8rem',\n            display: 'block',\n            marginTop: '4px'\n          },\n          children: \"Ism va familiyangizni to'liq kiriting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Xona Raqami *\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#dc3545',\n              marginLeft: '4px'\n            },\n            children: \"\\u25CF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: user.room_number,\n          onChange: e => setUser({\n            ...user,\n            room_number: e.target.value\n          }),\n          required: true,\n          placeholder: \"Masalan: 101\",\n          maxLength: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            color: '#666',\n            fontSize: '0.8rem',\n            display: 'block',\n            marginTop: '4px'\n          },\n          children: \"Faqat 3 ta raqam kiriting (masalan: 101, 205, 315)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn\",\n        disabled: loading,\n        children: loading ? 'Kutilmoqda...' : \"Ro'yxatdan O'tish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 3\n  }, this);\n};\n_s(Register, \"xFFzXpHC1HNGjCc8dYCi4+BmCzU=\");\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","userAPI","Alert","jsxDEV","_jsxDEV","Register","onRegister","_s","user","setUser","full_name","room_number","alert","setAlert","type","message","loading","setLoading","showAlert","setTimeout","handleSubmit","e","preventDefault","trim","nameParts","split","length","test","register","error","_error$response","_error$response$data","response","data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","color","marginLeft","value","onChange","target","required","placeholder","fontSize","display","marginTop","maxLength","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Asus/Desktop/washing-machine-booking/client/src/components/Register.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { userAPI } from '../services/api'\r\nimport Alert from './Alert'\r\n\r\nconst Register = ({ onRegister }) => {\r\n\tconst [user, setUser] = useState({ full_name: '', room_number: '' })\r\n\tconst [alert, setAlert] = useState({ type: '', message: '' })\r\n\tconst [loading, setLoading] = useState(false)\r\n\r\n\tconst showAlert = (type, message) => {\r\n\t\tsetAlert({ type, message })\r\n\t\tsetTimeout(() => setAlert({ type: '', message: '' }), 5000)\r\n\t}\r\n\r\n\tconst handleSubmit = async e => {\r\n\t\te.preventDefault()\r\n\r\n\t\tif (!user.full_name.trim()) {\r\n\t\t\tshowAlert('error', 'Ism va familiya kiritilishi shart')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst nameParts = user.full_name.trim().split(/\\s+/)\r\n\t\tif (nameParts.length < 2) {\r\n\t\t\tshowAlert('error', 'Iltimos, ism va familiyangizni kiriting')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (user.full_name.trim().length < 5) {\r\n\t\t\tshowAlert(\r\n\t\t\t\t'error',\r\n\t\t\t\t\"Ism-familiya kamida 5 ta belgidan iborat bo'lishi kerak\"\r\n\t\t\t)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (!user.room_number.trim()) {\r\n\t\t\tshowAlert('error', 'Xona raqami kiritilishi shart')\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (!/^[0-9]{3}$/.test(user.room_number.trim())) {\r\n\t\t\tshowAlert('error', \"Xona raqami 3 ta raqamdan iborat bo'lishi kerak\")\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tsetLoading(true)\r\n\r\n\t\ttry {\r\n\t\t\tawait userAPI.register(user)\r\n\t\t\tshowAlert('success', \"Muvaffaqiyatli ro'yxatdan o'tdingiz!\")\r\n\t\t\tonRegister(user.room_number)\r\n\t\t} catch (error) {\r\n\t\t\tshowAlert('error', error.response?.data?.message || 'Xatolik yuz berdi')\r\n\t\t} finally {\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='form-container'>\r\n\t\t\t<h2>Ro'yxatdan O'tish</h2>\r\n\t\t\t<Alert type={alert.type} message={alert.message} />\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tIsm va Familiya *\r\n\t\t\t\t\t\t<span style={{ color: '#dc3545', marginLeft: '4px' }}>●</span>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvalue={user.full_name}\r\n\t\t\t\t\t\tonChange={e => setUser({ ...user, full_name: e.target.value })}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tplaceholder='Masalan: Ali Valiyev'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tcolor: '#666',\r\n\t\t\t\t\t\t\tfontSize: '0.8rem',\r\n\t\t\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\t\t\tmarginTop: '4px',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tIsm va familiyangizni to'liq kiriting\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tXona Raqami *\r\n\t\t\t\t\t\t<span style={{ color: '#dc3545', marginLeft: '4px' }}>●</span>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tvalue={user.room_number}\r\n\t\t\t\t\t\tonChange={e => setUser({ ...user, room_number: e.target.value })}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tplaceholder='Masalan: 101'\r\n\t\t\t\t\t\tmaxLength='3'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<small\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tcolor: '#666',\r\n\t\t\t\t\t\t\tfontSize: '0.8rem',\r\n\t\t\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\t\t\tmarginTop: '4px',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tFaqat 3 ta raqam kiriting (masalan: 101, 205, 315)\r\n\t\t\t\t\t</small>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<button type='submit' className='btn' disabled={loading}>\r\n\t\t\t\t\t{loading ? 'Kutilmoqda...' : \"Ro'yxatdan O'tish\"}\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Register\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,OAAO,QAAQ,iBAAiB;AACzC,OAAOC,KAAK,MAAM,SAAS;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE3B,MAAMC,QAAQ,GAAGA,CAAC;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EACpC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC;IAAEU,SAAS,EAAE,EAAE;IAAEC,WAAW,EAAE;EAAG,CAAC,CAAC;EACpE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC;IAAEc,IAAI,EAAE,EAAE;IAAEC,OAAO,EAAE;EAAG,CAAC,CAAC;EAC7D,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMkB,SAAS,GAAGA,CAACJ,IAAI,EAAEC,OAAO,KAAK;IACpCF,QAAQ,CAAC;MAAEC,IAAI;MAAEC;IAAQ,CAAC,CAAC;IAC3BI,UAAU,CAAC,MAAMN,QAAQ,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,OAAO,EAAE;IAAG,CAAC,CAAC,EAAE,IAAI,CAAC;EAC5D,CAAC;EAED,MAAMK,YAAY,GAAG,MAAMC,CAAC,IAAI;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAI,CAACd,IAAI,CAACE,SAAS,CAACa,IAAI,CAAC,CAAC,EAAE;MAC3BL,SAAS,CAAC,OAAO,EAAE,mCAAmC,CAAC;MACvD;IACD;IAEA,MAAMM,SAAS,GAAGhB,IAAI,CAACE,SAAS,CAACa,IAAI,CAAC,CAAC,CAACE,KAAK,CAAC,KAAK,CAAC;IACpD,IAAID,SAAS,CAACE,MAAM,GAAG,CAAC,EAAE;MACzBR,SAAS,CAAC,OAAO,EAAE,yCAAyC,CAAC;MAC7D;IACD;IAEA,IAAIV,IAAI,CAACE,SAAS,CAACa,IAAI,CAAC,CAAC,CAACG,MAAM,GAAG,CAAC,EAAE;MACrCR,SAAS,CACR,OAAO,EACP,yDACD,CAAC;MACD;IACD;IAEA,IAAI,CAACV,IAAI,CAACG,WAAW,CAACY,IAAI,CAAC,CAAC,EAAE;MAC7BL,SAAS,CAAC,OAAO,EAAE,+BAA+B,CAAC;MACnD;IACD;IAEA,IAAI,CAAC,YAAY,CAACS,IAAI,CAACnB,IAAI,CAACG,WAAW,CAACY,IAAI,CAAC,CAAC,CAAC,EAAE;MAChDL,SAAS,CAAC,OAAO,EAAE,iDAAiD,CAAC;MACrE;IACD;IAEAD,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACH,MAAMhB,OAAO,CAAC2B,QAAQ,CAACpB,IAAI,CAAC;MAC5BU,SAAS,CAAC,SAAS,EAAE,sCAAsC,CAAC;MAC5DZ,UAAU,CAACE,IAAI,CAACG,WAAW,CAAC;IAC7B,CAAC,CAAC,OAAOkB,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACfb,SAAS,CAAC,OAAO,EAAE,EAAAY,eAAA,GAAAD,KAAK,CAACG,QAAQ,cAAAF,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBG,IAAI,cAAAF,oBAAA,uBAApBA,oBAAA,CAAsBhB,OAAO,KAAI,mBAAmB,CAAC;IACzE,CAAC,SAAS;MACTE,UAAU,CAAC,KAAK,CAAC;IAClB;EACD,CAAC;EAED,oBACCb,OAAA;IAAK8B,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC9B/B,OAAA;MAAA+B,QAAA,EAAI;IAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC1BnC,OAAA,CAACF,KAAK;MAACY,IAAI,EAAEF,KAAK,CAACE,IAAK;MAACC,OAAO,EAAEH,KAAK,CAACG;IAAQ;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACnDnC,OAAA;MAAMoC,QAAQ,EAAEpB,YAAa;MAAAe,QAAA,gBAC5B/B,OAAA;QAAK8B,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC1B/B,OAAA;UAAA+B,QAAA,GAAO,mBAEN,eAAA/B,OAAA;YAAMqC,KAAK,EAAE;cAAEC,KAAK,EAAE,SAAS;cAAEC,UAAU,EAAE;YAAM,CAAE;YAAAR,QAAA,EAAC;UAAC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxD,CAAC,eACRnC,OAAA;UACCU,IAAI,EAAC,MAAM;UACX8B,KAAK,EAAEpC,IAAI,CAACE,SAAU;UACtBmC,QAAQ,EAAExB,CAAC,IAAIZ,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEE,SAAS,EAAEW,CAAC,CAACyB,MAAM,CAACF;UAAM,CAAC,CAAE;UAC/DG,QAAQ;UACRC,WAAW,EAAC;QAAsB;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC,CAAC,eACFnC,OAAA;UACCqC,KAAK,EAAE;YACNC,KAAK,EAAE,MAAM;YACbO,QAAQ,EAAE,QAAQ;YAClBC,OAAO,EAAE,OAAO;YAChBC,SAAS,EAAE;UACZ,CAAE;UAAAhB,QAAA,EACF;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eAENnC,OAAA;QAAK8B,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC1B/B,OAAA;UAAA+B,QAAA,GAAO,eAEN,eAAA/B,OAAA;YAAMqC,KAAK,EAAE;cAAEC,KAAK,EAAE,SAAS;cAAEC,UAAU,EAAE;YAAM,CAAE;YAAAR,QAAA,EAAC;UAAC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxD,CAAC,eACRnC,OAAA;UACCU,IAAI,EAAC,MAAM;UACX8B,KAAK,EAAEpC,IAAI,CAACG,WAAY;UACxBkC,QAAQ,EAAExB,CAAC,IAAIZ,OAAO,CAAC;YAAE,GAAGD,IAAI;YAAEG,WAAW,EAAEU,CAAC,CAACyB,MAAM,CAACF;UAAM,CAAC,CAAE;UACjEG,QAAQ;UACRC,WAAW,EAAC,cAAc;UAC1BI,SAAS,EAAC;QAAG;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CAAC,eACFnC,OAAA;UACCqC,KAAK,EAAE;YACNC,KAAK,EAAE,MAAM;YACbO,QAAQ,EAAE,QAAQ;YAClBC,OAAO,EAAE,OAAO;YAChBC,SAAS,EAAE;UACZ,CAAE;UAAAhB,QAAA,EACF;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CAAC,eAENnC,OAAA;QAAQU,IAAI,EAAC,QAAQ;QAACoB,SAAS,EAAC,KAAK;QAACmB,QAAQ,EAAErC,OAAQ;QAAAmB,QAAA,EACtDnB,OAAO,GAAG,eAAe,GAAG;MAAmB;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAER,CAAC;AAAAhC,EAAA,CAnHKF,QAAQ;AAAAiD,EAAA,GAARjD,QAAQ;AAqHd,eAAeA,QAAQ;AAAA,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}